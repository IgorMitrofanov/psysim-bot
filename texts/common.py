BACK_TO_MENU_TEXT = (
    "–ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é"
)

def profile_text(data: dict) -> str:
    base = (
        f"<b>üë§ –ü—Ä–æ—Ñ–∏–ª—å</b>\n"
        f"–ù–∏–∫–Ω–µ–π–º: @{data['username']}\n"
        f"ID: <code>{data['telegram_id']}</code>\n"
        f"–î–∞—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏: {data['registered_at']}\n"
        f"–¢–∞—Ä–∏—Ñ: {data['active_tariff']}\n"
    )

    if data["active_tariff"] != "–ü–æ–¥–ø–∏—Å–∫–∞ –Ω–µ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∞":
        base += f"–ê–∫—Ç–∏–≤–Ω–∞ –¥–æ: {data['tariff_expires']}\n"

    base += (
        f"–°–µ—Å—Å–∏–π –ø—Ä–æ–π–¥–µ–Ω–æ: {data['sessions_done']}\n"
        f"–ë–æ–Ω—É—Å–Ω—ã–µ —Å–µ—Å—Å–∏–∏: <b>{data['bonus_balance']}</b>\n"
        f"–ë–∞–ª–∞–Ω—Å: <b>{data['balance']} ‚ÇΩ</b>\n"
    )

    if data["sessions_done"] > 0:
        base += f"–ü–æ—Å–ª–µ–¥–Ω–∏–π —Å—Ü–µ–Ω–∞—Ä–∏–π: {data['last_scenario']}"

    return base


def referral_text(ref_link: str, bonus_balance: int) -> str:
    return (
        f"<b>üéÅ –ü–∞—Ä—Ç–Ω—ë—Ä—Å–∫–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞</b>\n"
        f"–°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å—Å—ã–ª–∫—É –∏ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ –¥—Ä—É–∑—å—è–º:\n\n"
        f"<code>{ref_link}</code>\n\n"
        f"üí∞ –ë–æ–Ω—É—Å–Ω—ã–µ —Å–µ—Å—Å–∏–∏: <b>{bonus_balance}</b>\n"
        f"üë• –ö–∞–∂–¥—ã–π –ø—Ä–∏–≥–ª–∞—à—ë–Ω–Ω—ã–π = 1 –±–æ–Ω—É—Å–Ω–∞—è —Å–µ—Å—Å–∏—è\n"
    )


def referral_stats_text(referrals: list) -> str:
    lines = [
        f"üìä <b>–ü—Ä–∏–≥–ª–∞—à—ë–Ω–Ω—ã–µ:</b> {len(referrals)} —á–µ–ª.",
        "",
    ]
    for r in referrals:
        status = "‚úÖ –û–ø–ª–∞—Ç–∏–ª" if r.has_paid else "‚è≥ –ù–µ –æ–ø–ª–∞—Ç–∏–ª"
        lines.append(f"‚Äî <code>{r.invited_user_id}</code> ‚Ä¢ {status}")
    return "\n".join(lines)


def get_start_text(is_new: bool):
    if is_new:
        return (
            "üëã –ü—Ä–∏–≤–µ—Ç! –†–∞–¥–∞ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å —Ç–µ–±—è –≤ AI-—Ç—Ä–µ–Ω–∞–∂—ë—Ä–µ –¥–ª—è –ø—Å–∏—Ö–æ–ª–æ–≥–æ–≤.\n\n"
            "–Ø ‚Äî –ø—Ä–∞–∫—Ç–∏–∫—É—é—â–∏–π –ø—Å–∏—Ö–æ–ª–æ–≥ –∏ —Ö–æ—Ä–æ—à–æ –∑–Ω–∞—é, –∫–∞–∫ —Å–ª–æ–∂–Ω–æ –±—ã–≤–∞–µ—Ç –Ω–∞—á–∞—Ç—å –ø—Ä–∞–∫—Ç–∏–∫—É: –ø–µ—Ä–≤—ã–π –∫–ª–∏–µ–Ω—Ç, —Å—Ç—Ä–∞—Ö –Ω–∞–≤—Ä–µ–¥–∏—Ç—å, —Ä–∞—Å—Ç–µ—Ä—è–Ω–Ω–æ—Å—Ç—å –ø–µ—Ä–µ–¥ —Å–æ–ø—Ä–æ—Ç–∏–≤–ª–µ–Ω–∏–µ–º. –≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç —Å–æ–∑–¥–∞–Ω, —á—Ç–æ–±—ã –ø–æ–º–æ—á—å —Ç–µ–±–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ –∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –æ—Ç—Ä–∞–±–æ—Ç–∞—Ç—å –Ω–∞–≤—ã–∫–∏ –∫–æ–Ω—Å—É–ª—å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.\n\n"
            "üß† –ó–¥–µ—Å—å —Ç—ã —Å–º–æ–∂–µ—à—å:\n"
            "‚Äì –ø–æ—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∞—Ç—å—Å—è –≤ –∂–∏–≤–æ–º –¥–∏–∞–ª–æ–≥–µ —Å –ò–ò-–∫–ª–∏–µ–Ω—Ç–æ–º,\n"
            "‚Äì –≤—ã–±—Ä–∞—Ç—å —É—Ä–æ–≤–µ–Ω—å —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ –∏ —Ç–µ–º—É –∑–∞–ø—Ä–æ—Å–∞,\n"
            "‚Äì –ø–æ–ª—É—á–∞—Ç—å —Å—É–ø–µ—Ä–≤–∏–∑–æ—Ä—Å–∫–∏–π –æ—Ç—á—ë—Ç –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–π —Å–µ—Å—Å–∏–∏ ‚Äî —Å —Ä–∞–∑–±–æ—Ä–æ–º, —á—Ç–æ –±—ã–ª–æ —Ö–æ—Ä–æ—à–æ, –∞ –≥–¥–µ –º–æ–∂–Ω–æ –±—ã–ª–æ –ø–æ—Å—Ç—É–ø–∏—Ç—å –∏–Ω–∞—á–µ.\n\n"
            "ü§î –ü–æ—á–µ–º—É –Ω–µ –ø—Ä–æ—Å—Ç–æ ChatGPT? –£ –Ω–∞—Å ‚Äî —Ä–µ–∞–ª–∏–∑–º, —Å–æ–ø—Ä–æ—Ç–∏–≤–ª–µ–Ω–∏–µ, —Å—Ü–µ–Ω–∞—Ä–∏–∏ –∏ —ç–º–æ—Ü–∏–∏.\n\n"
            "üéÅ –î–æ—Å—Ç—É–ø–Ω–∞ –±–µ—Å–ø–ª–∞—Ç–Ω–∞—è —Ç–µ—Å—Ç–æ–≤–∞—è —Å–µ—Å—Å–∏—è. –ù–∞—á–Ω–µ–º?"
        )
    else:
        return (
            "üëã –ü—Ä–∏–≤–µ—Ç! –†–∞–¥–∞ –≤–∏–¥–µ—Ç—å —Ç–µ–±—è —Å–Ω–æ–≤–∞ –≤ —Ç—Ä–µ–Ω–∞–∂—ë—Ä–µ üå±\n\n"
            "–¢—ã –º–æ–∂–µ—à—å:\n"
            "üîπ –ù–∞—á–∞—Ç—å –Ω–æ–≤—É—é —Å–µ—Å—Å–∏—é\n"
            "üîπ –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ø—Ä–æ—à–ª—ã–µ –æ—Ç—á—ë—Ç—ã\n"
            "üîπ –û—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å —Å–≤–æ–π –ø—Ä–æ–≥—Ä–µ—Å—Å\n"
            "üîπ –ò–∑—É—á–∏—Ç—å —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —É–ª—É—á—à–µ–Ω–∏—é\n\n"
            "–ì–æ—Ç–æ–≤(–∞) –∫ –Ω–æ–≤–æ–π –ø—Ä–∞–∫—Ç–∏–∫–µ?"
        )